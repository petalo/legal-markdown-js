# HTML Generation

Generate professional HTML documents with custom styling, templates, and
interactive features for legal and business documents.

## Table of Contents

- [Basic HTML Generation](#basic-html-generation)
- [HTML Options](#html-options)
- [Custom Templates](#custom-templates)
- [CSS Integration](#css-integration)
- [Interactive Features](#interactive-features)
- [Examples](#examples)
- [Best Practices](#best-practices)

## Basic HTML Generation

### Command Line Usage

Generate HTML documents directly from the command line:

```bash
# Basic HTML generation
legal-md document.md --html

# HTML with field highlighting
legal-md document.md --html --highlight

# HTML with custom CSS
legal-md document.md --html --css ./styles/contract.css

# HTML with custom output name
legal-md document.md --html --output-name custom-document.html
```

### Programmatic Usage

```typescript
import { generateHtml } from 'legal-markdown-js';

const html = await generateHtml(content, {
  title: 'Legal Document',
  cssPath: './styles/legal.css',
  includeHighlighting: true,
});

// Save to file
const fs = require('fs');
fs.writeFileSync('output.html', html);
```

## HTML Options

### Core Configuration

| Option                | Type    | Default        | Description                  |
| --------------------- | ------- | -------------- | ---------------------------- |
| `title`               | string  | Document title | HTML document title          |
| `cssPath`             | string  | -              | Path to custom CSS file      |
| `includeHighlighting` | boolean | false          | Include field highlighting   |
| `customTemplate`      | string  | -              | Path to custom HTML template |
| `includeMetadata`     | boolean | true           | Include document metadata    |
| `responsive`          | boolean | true           | Generate responsive HTML     |

### Basic HTML Options

```typescript
const html = await generateHtml(content, {
  title: 'Service Agreement',
  cssPath: './styles/contract.css',
  includeHighlighting: true,
  includeMetadata: true,
  responsive: true,
  viewport: 'width=device-width, initial-scale=1.0',
});
```

## Custom Templates

### Using Custom HTML Templates

Create your own HTML templates for consistent branding and layout:

```typescript
const html = await generateHtml(content, {
  title: 'Contract Review',
  cssPath: './styles/contract.css',
  includeHighlighting: true,
  customTemplate: './templates/legal.html',
});
```

### Template Structure

Create a custom template file (`templates/legal.html`):

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{title}}</title>
    {{#if cssPath}}
    <link rel="stylesheet" href="{{cssPath}}" />
    {{/if}}
    <style>
      /* Additional inline styles */
      body {
        font-family: 'Times New Roman', serif;
        line-height: 1.6;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }
    </style>
  </head>
  <body>
    <header>
      <div class="company-logo">
        <img src="./assets/company-logo.png" alt="Company Logo" />
      </div>
      <div class="document-info">
        <h1>{{title}}</h1>
        <p class="generation-date">Generated: {{generationDate}}</p>
      </div>
    </header>

    <main class="document-content">{{content}}</main>

    <footer>
      <p class="disclaimer">
        This document was generated automatically. Please review carefully.
      </p>
      <p class="generated-by">Generated by Legal Markdown JS</p>
    </footer>
  </body>
</html>
```

### Template Variables

Available variables in custom templates:

| Variable             | Description                | Example                 |
| -------------------- | -------------------------- | ----------------------- |
| `{{title}}`          | Document title             | "Service Agreement"     |
| `{{content}}`        | Processed document content | HTML content            |
| `{{cssPath}}`        | CSS file path              | "./styles/contract.css" |
| `{{generationDate}}` | Generation timestamp       | "2025-07-16T10:30:00Z"  |
| `{{metadata}}`       | Document metadata object   | YAML frontmatter        |

## CSS Integration

### External CSS Files

Link external CSS files for consistent styling:

```typescript
const html = await generateHtml(content, {
  title: 'Legal Document',
  cssPath: './styles/professional.css',
  includeHighlighting: true,
});
```

### Inline CSS

For self-contained HTML documents:

```typescript
const fs = require('fs');
const cssContent = fs.readFileSync('./styles/contract.css', 'utf8');

const html = await generateHtml(content, {
  title: 'Contract',
  inlineCSS: cssContent,
  includeHighlighting: true,
});
```

### Responsive Design

```css
/* Example responsive CSS */
@media (max-width: 768px) {
  body {
    padding: 10px;
    font-size: 14px;
  }

  .document-header {
    text-align: center;
  }

  table {
    font-size: 12px;
  }
}

@media print {
  .no-print {
    display: none;
  }

  body {
    font-size: 12pt;
  }
}
```

## Interactive Features

### Field Highlighting with Tooltips

```typescript
const html = await generateHtml(content, {
  title: 'Interactive Contract',
  cssPath: './styles/interactive.css',
  includeHighlighting: true,
  interactiveFeatures: {
    tooltips: true,
    expandableFields: true,
    printView: true,
  },
});
```

### JavaScript Integration

Add interactive JavaScript features:

```html
<!-- In your custom template -->
<script>
  // Add click handlers for highlighted fields
  document.addEventListener('DOMContentLoaded', function () {
    const highlightedFields = document.querySelectorAll('.field-highlight');

    highlightedFields.forEach(field => {
      field.addEventListener('click', function () {
        const fieldName = this.dataset.fieldName;
        const fieldValue = this.textContent;

        alert(`Field: ${fieldName}\nValue: ${fieldValue}`);
      });
    });
  });

  // Print functionality
  function printDocument() {
    window.print();
  }

  // Toggle highlighting
  function toggleHighlighting() {
    document.body.classList.toggle('hide-highlighting');
  }
</script>
```

### Navigation Menu

```html
<!-- Add to template header -->
<nav class="document-nav no-print">
  <button onclick="toggleHighlighting()">Toggle Highlighting</button>
  <button onclick="printDocument()">Print</button>
  <button onclick="exportToPdf()">Export PDF</button>
</nav>
```

## Examples

### Contract Document

```typescript
import { generateHtml } from 'legal-markdown-js';

const contractHtml = await generateHtml(contractContent, {
  title: 'Service Agreement - Acme Corp',
  cssPath: './styles/legal-contract.css',
  includeHighlighting: true,
  customTemplate: './templates/contract.html',
  metadata: {
    client: 'Acme Corporation',
    effective_date: new Date().toISOString(),
    contract_type: 'Service Agreement',
  },
});

// Save with responsive features
const fs = require('fs');
fs.writeFileSync('contract.html', contractHtml);
```

### Invoice Generation

```typescript
const invoiceHtml = await generateHtml(invoiceContent, {
  title: `Invoice #${invoiceNumber}`,
  cssPath: './styles/invoice.css',
  includeHighlighting: false,
  customTemplate: './templates/invoice.html',
  responsive: true,
});
```

### Legal Brief

```typescript
const briefHtml = await generateHtml(briefContent, {
  title: 'Motion to Dismiss',
  cssPath: './styles/legal-brief.css',
  includeHighlighting: true,
  customTemplate: './templates/legal-brief.html',
  includeMetadata: true,
});
```

### Multi-Document Set

```typescript
const documents = ['contract.md', 'addendum.md', 'exhibit-a.md'];

const htmlDocs = await Promise.all(
  documents.map(async doc => {
    const content = fs.readFileSync(doc, 'utf8');
    return generateHtml(content, {
      title: path.basename(doc, '.md'),
      cssPath: './styles/document-set.css',
      includeHighlighting: true,
    });
  })
);

// Generate index page
const indexHtml = generateIndexPage(htmlDocs);
```

## Best Practices

### 1. Responsive Design

```css
/* Mobile-first responsive design */
body {
  font-size: 16px;
  line-height: 1.6;
  padding: 15px;
}

@media (min-width: 768px) {
  body {
    font-size: 18px;
    padding: 30px;
    max-width: 800px;
    margin: 0 auto;
  }
}

@media print {
  body {
    font-size: 12pt;
    padding: 0.5in;
  }

  .no-print {
    display: none;
  }
}
```

### 2. Accessibility

```html
<!-- Include accessibility features -->
<html lang="en">
  <head>
    <meta name="description" content="Legal service agreement document" />
    <meta name="keywords" content="legal, contract, agreement" />
  </head>
  <body>
    <!-- Use semantic HTML -->
    <main role="main">
      <article>
        <header>
          <h1>{{title}}</h1>
        </header>

        <section aria-label="Document content">{{content}}</section>
      </article>
    </main>
  </body>
</html>
```

### 3. Performance Optimization

```typescript
// ✅ Good - optimize for performance
const html = await generateHtml(content, {
  title: 'Document',
  cssPath: './styles/optimized.css', // Minified CSS
  includeHighlighting: true,
  // Don't inline large CSS files
  inlineCSS: false,
});

// ✅ Good - batch generation
const documents = await Promise.all(
  files.map(file => generateHtml(file.content, sharedOptions))
);
```

### 4. SEO and Metadata

```typescript
const html = await generateHtml(content, {
  title: 'Service Agreement - Legal Documents',
  customTemplate: './templates/seo-optimized.html',
  metadata: {
    description: 'Professional service agreement template',
    keywords: ['legal', 'contract', 'agreement', 'template'],
    author: 'Legal Department',
    robots: 'noindex, nofollow', // For internal documents
  },
});
```

### 5. Security Considerations

```typescript
// ✅ Good - sanitize user content
import { sanitizeHtml } from 'sanitize-html';

const safeHtml = await generateHtml(content, {
  title: sanitizeHtml(userProvidedTitle),
  cssPath: './styles/safe.css',
  // Don't allow user-provided templates
  customTemplate: './templates/approved.html',
});
```

### 6. File Organization

```text
project/
├── templates/
│   ├── contract.html
│   ├── invoice.html
│   └── legal-brief.html
├── styles/
│   ├── base.css
│   ├── contract.css
│   └── responsive.css
├── assets/
│   ├── images/
│   └── fonts/
└── output/
    ├── html/
    └── archive/
```

### 7. Version Control

```html
<!-- Include version info in HTML -->
<meta name="generator" content="Legal Markdown JS v{{version}}" />
<meta name="created" content="{{creationDate}}" />

<!-- Add to footer -->
<footer class="document-footer">
  <p>Generated by Legal Markdown JS on {{generationDate}}</p>
  <p>Document Version: {{documentVersion}}</p>
</footer>
```

## Troubleshooting

### Common Issues

**CSS not loading:**

- Check CSS file path is correct and accessible
- Verify CSS file permissions
- Test with inline CSS for debugging

**Template not found:**

- Verify template file path
- Check file permissions
- Ensure template syntax is correct

**Responsive layout issues:**

- Test on different screen sizes
- Validate CSS media queries
- Check viewport meta tag

**JavaScript errors:**

- Use browser developer tools
- Check for console errors
- Validate HTML structure

### Debug Mode

```typescript
// Enable debug mode for troubleshooting
const html = await generateHtml(content, {
  title: 'Debug Document',
  cssPath: './styles/debug.css',
  debug: true, // Includes debug information
  validateHtml: true, // Validates output HTML
});
```

## Integration with Other Formats

### HTML to PDF Conversion

```typescript
// Generate HTML first, then convert to PDF
const html = await generateHtml(content, options);

// Use HTML as input for PDF generation
const pdf = await generatePdf(html, 'output.pdf', {
  format: 'A4',
  htmlContent: true, // Indicates input is HTML
});
```

### Cross-Format Consistency

```typescript
// Use same CSS for both HTML and PDF
const sharedOptions = {
  title: 'Document',
  cssPath: './styles/cross-format.css',
};

const html = await generateHtml(content, sharedOptions);
const pdf = await generatePdf(content, 'output.pdf', sharedOptions);
```

## See Also

- [PDF Generation](pdf-generation.md) - Generate PDF documents
- [Field Highlighting](field-highlighting.md) - Visual field tracking
- [CSS Classes](css-classes.md) - Available styling classes
- [Template Loops](../features/template-loops.md) - Dynamic content generation
