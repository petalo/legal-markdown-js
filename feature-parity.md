# LegalMarkdown Compatibility Requirements Tracking

## Progress Overview

- [ ] **File Formats** (2/4 completed)
- [X] **YAML Front Matter** (8/8 completed)  
- [X] **Headers & Numbering** (10/10 completed)
- [X] **Optional Clauses** (6/6 completed)
- [X] **Cross-References** (5/5 completed)
- [X] **Partial Imports** (4/4 completed)
- [X] **Metadata Export** (6/6 completed)
- [ ] **CLI Interface** (10/15 completed)
- [ ] **Advanced Features** (4/12 completed)

---

| Check | Category                | Feature                                                 | Priority      | References                                                                                     | Test                                                                                                        |
| ----- | ----------------------- | ------------------------------------------------------- | ------------- | ---------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------- |
| [X]   | **File Formats**        | Support Markdown (.md) input files                      | High          | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/unit/core/file-formats.unit.test.ts](tests/unit/core/file-formats.unit.test.ts)                           |
| [ ]   | **File Formats**        | Support reStructuredText (.rst) input files             | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | N/A                                                                                                         |
| [ ]   | **File Formats**        | Support LaTeX (.tex) input files                        | Low           | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | N/A                                                                                                         |
| [X]   | **File Formats**        | Support ASCII (.txt) input files                        | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/unit/core/file-formats.unit.test.ts](./tests/unit/core/file-formats.unit.test.ts)                         |
| [X]   | **YAML Front Matter**   | Parse YAML front matter starting with `---`             | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **YAML Front Matter**   | Parse YAML front matter ending with `---`               | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **YAML Front Matter**   | Support basic fields (title, author, date)              | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **YAML Front Matter**   | Support parties array with name and type                | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **YAML Front Matter**   | Support jurisdiction and governing-law fields           | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **YAML Front Matter**   | Support effective-date field                            | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **YAML Front Matter**   | Support custom variable definitions                     | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **YAML Front Matter**   | Validate YAML syntax and structure                      | High          | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/unit/parsers/yaml-parser.unit.test.ts](tests/unit/parsers/yaml-parser.unit.test.ts)                       |
| [X]   | **Headers & Numbering** | Process `l.` notation for first level headers           | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Process `ll.` notation for second level headers         | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Process `lll.` notation for third level headers         | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Process `llll.` notation for fourth level headers       | Medium        | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Process `lllll.` notation for fifth level headers       | Medium        | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Support alternative `l1.`, `l2.`, `l3.` syntax          | Medium        | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Support `level-one` format customization                | Medium        | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Support `level-two` through `level-five` customization  | Medium        | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Support `level-indent` specification                    | Low           | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Headers & Numbering** | Generate proper numbering sequences (1., 1.1, 1.1.1)    | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/header-processor.unit.test.ts](tests/unit/processors/header-processor.unit.test.ts)       |
| [X]   | **Optional Clauses**    | Parse square bracket notation `[...]` for optional text | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/clause-processor.unit.test.ts](tests/unit/processors/clause-processor.unit.test.ts)       |
| [X]   | **Optional Clauses**    | Support condition syntax `{condition_name}`             | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/clause-processor.unit.test.ts](tests/unit/processors/clause-processor.unit.test.ts)       |
| [X]   | **Optional Clauses**    | Support simple boolean conditions                       | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/clause-processor.unit.test.ts](tests/unit/processors/clause-processor.unit.test.ts)       |
| [X]   | **Optional Clauses**    | Support AND logical operations                          | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/clause-processor.unit.test.ts](tests/unit/processors/clause-processor.unit.test.ts)       |
| [X]   | **Optional Clauses**    | Support OR logical operations                           | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/clause-processor.unit.test.ts](tests/unit/processors/clause-processor.unit.test.ts)       |
| [X]   | **Optional Clauses**    | Support equality conditions `{field = "value"}`         | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/clause-processor.unit.test.ts](tests/unit/processors/clause-processor.unit.test.ts)       |
| [X]   | **Cross-References**    | Parse pipe notation `                                   | reference_key | `                                                                                              | High                                                                                                        | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki) | [/unit/processors/reference-processor.unit.test.ts](tests/unit/processors/reference-processor.unit.test.ts) |
| [X]   | **Cross-References**    | Replace references with YAML front matter values        | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/reference-processor.unit.test.ts](tests/unit/processors/reference-processor.unit.test.ts) |
| [X]   | **Cross-References**    | Support text string references                          | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/reference-processor.unit.test.ts](tests/unit/processors/reference-processor.unit.test.ts) |
| [X]   | **Cross-References**    | Support date references                                 | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/reference-processor.unit.test.ts](tests/unit/processors/reference-processor.unit.test.ts) |
| [X]   | **Cross-References**    | Support number references                               | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/reference-processor.unit.test.ts](tests/unit/processors/reference-processor.unit.test.ts) |
| [X]   | **Partial Imports**     | Parse `@import [filename]` syntax                       | High          | [Syntax Guide](https://github.com/compleatang/legal-markdown/wiki)                             | [/unit/processors/import-processor.unit.test.ts](tests/unit/processors/import-processor.unit.test.ts)       |
| [X]   | **Partial Imports**     | Support relative path imports                           | High          | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/import-processor.unit.test.ts](tests/unit/processors/import-processor.unit.test.ts)       |
| [X]   | **Partial Imports**     | Support absolute path imports                           | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/import-processor.unit.test.ts](tests/unit/processors/import-processor.unit.test.ts)       |
| [X]   | **Partial Imports**     | Handle multiple imports in same document                | Medium        | [Examples](https://github.com/compleatang/legal-markdown/tree/master/examples)                 | [/unit/processors/import-processor.unit.test.ts](tests/unit/processors/import-processor.unit.test.ts)       |
| [X]   | **Metadata Export**     | Support `meta:` key in YAML front matter                | Medium        | [API Docs](https://github.com/compleatang/legal-markdown/wiki/API)                             | [/unit/exporters/metadata-exporter.unit.test.ts](tests/unit/exporters/metadata-exporter.unit.test.ts)       |
| [X]   | **Metadata Export**     | Export to YAML with `meta-yaml-output:`                 | Medium        | [API Docs](https://github.com/compleatang/legal-markdown/wiki/API)                             | [/unit/exporters/metadata-exporter.unit.test.ts](tests/unit/exporters/metadata-exporter.unit.test.ts)       |
| [X]   | **Metadata Export**     | Export to JSON with `meta-json-output:`                 | Medium        | [API Docs](https://github.com/compleatang/legal-markdown/wiki/API)                             | [/unit/exporters/metadata-exporter.unit.test.ts](tests/unit/exporters/metadata-exporter.unit.test.ts)       |
| [X]   | **Metadata Export**     | Support `meta-output-path:` configuration               | Low           | [API Docs](https://github.com/compleatang/legal-markdown/wiki/API)                             | [/unit/exporters/metadata-exporter.unit.test.ts](tests/unit/exporters/metadata-exporter.unit.test.ts)       |
| [X]   | **Metadata Export**     | Support `meta-output-extension:` configuration          | Low           | [API Docs](https://github.com/compleatang/legal-markdown/wiki/API)                             | [/unit/exporters/metadata-exporter.unit.test.ts](tests/unit/exporters/metadata-exporter.unit.test.ts)       |
| [X]   | **Metadata Export**     | Support `meta-include-original:` option                 | Low           | [API Docs](https://github.com/compleatang/legal-markdown/wiki/API)                             | [/unit/exporters/metadata-exporter.unit.test.ts](tests/unit/exporters/metadata-exporter.unit.test.ts)       |
| [X]   | **CLI Interface**       | Basic command `legal2md [input] [output]`               | High          | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [X]   | **CLI Interface**       | `--debug` flag for debugging information                | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [X]   | **CLI Interface**       | `--headers` flag to process only headers                | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [X]   | **CLI Interface**       | `--yaml` flag to process only YAML front matter         | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [X]   | **CLI Interface**       | `--input=FILENAME` option                               | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [X]   | **CLI Interface**       | `--output=FILENAME` option                              | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [ ]   | **CLI Interface**       | `--to-markdown` conversion option                       | Low           | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | N/A                                                                                                         |
| [X]   | **CLI Interface**       | `--to-json` output option                               | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [X]   | **CLI Interface**       | `--to-yaml` output option                               | Medium        | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [ ]   | **CLI Interface**       | `--no-mixins` flag to disable template mixins           | Low           | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | N/A                                                                                                         |
| [X]   | **CLI Interface**       | `--no-headers` flag to skip header processing           | Low           | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [X]   | **CLI Interface**       | `--version` flag to display version information         | High          | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/e2e/cli.e2e.test.ts](tests/e2e/cli.e2e.test.ts)                                                           |
| [ ]   | **CLI Interface**       | `--help` flag to display usage instructions             | Medium        | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [ ]   | **CLI Interface**       | `--stdin` option to read from standard input            | Low           | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [ ]   | **CLI Interface**       | `--stdout` option to write to standard output           | Low           | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [X]   | **Advanced Features**   | Template customization support                          | Low           | [Community Templates](https://github.com/compleatang/legal-markdown/tree/master/templates)     | [/unit/core/advanced-features.unit.test.ts](tests/unit/core/advanced-features.unit.test.ts)                 |
| [X]   | **Advanced Features**   | Custom header formats                                   | Low           | [Community Templates](https://github.com/compleatang/legal-markdown/tree/master/templates)     | [/unit/core/advanced-features.unit.test.ts](tests/unit/core/advanced-features.unit.test.ts)                 |
| [X]   | **Advanced Features**   | Custom numbering styles                                 | Low           | [Community Templates](https://github.com/compleatang/legal-markdown/tree/master/templates)     | [/unit/core/advanced-features.unit.test.ts](tests/unit/core/advanced-features.unit.test.ts)                 |
| [ ]   | **Advanced Features**   | Mixins for term substitution with `{{term}}`            | Medium        | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | Special `@today` date handling                          | Low           | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | No-reset option for continuous numbering                | Low           | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | No-indent option for flat formatting                    | Low           | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | Precursor references for parent section numbers         | Medium        | [Source Code](https://github.com/compleatang/legal-markdown/blob/master/lib/legal_markdown.rb) | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | Batch processing capability                             | Medium        | [Integration Tutorials](https://github.com/compleatang/legal-markdown/wiki/Tutorials)          | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | Multi-language support                                  | Low           | [Integration Tutorials](https://github.com/compleatang/legal-markdown/wiki/Tutorials)          | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | Jurisdiction-specific templates                         | Low           | [Community Templates](https://github.com/compleatang/legal-markdown/tree/master/templates)     | N/A                                                                                                         |
| [ ]   | **Advanced Features**   | Locale-aware formatting                                 | Low           | [Integration Tutorials](https://github.com/compleatang/legal-markdown/wiki/Tutorials)          | N/A                                                                                                         |
| [X]   | **Advanced Features**   | Error handling and validation                           | High          | [Official Docs](https://github.com/compleatang/legal-markdown)                                 | [/unit/core/advanced-features.unit.test.ts](tests/unit/core/advanced-features.unit.test.ts)                 |

---

## Implementation Notes

1. **Progress**: We have implemented 55 out of 70 features (79% complete)
2. **High Priority**: All high priority features are implemented
3. **Remaining Features**:
   - reStructuredText and LaTeX file format support (non-critical)
   - Some advanced CLI flags (--to-markdown, --no-mixins, --help, --stdin, --stdout)
   - Advanced features like mixins, special date handling, and precursor references
   - Advanced batch processing and internationalization features

## Next Steps

1. Add tests for all implemented features
2. Implement mixins feature (medium priority)
3. Add precursor references for complex document structures
4. Implement special date handling with @today
5. Implement the remaining CLI features for full compatibility
6. Consider adding no-reset and no-indent options for header formatting

## Feature Distribution

- **Core Features**: 100% implemented
- **File Formats**: 50% implemented (all critical formats supported)
- **YAML Front Matter**: 100% implemented
- **Headers & Numbering**: 100% implemented
- **Optional Clauses**: 100% implemented
- **Cross-References**: 100% implemented
- **Partial Imports**: 100% implemented
- **Metadata Export**: 100% implemented
- **CLI Interface**: 67% implemented
- **Advanced Features**: 33% implemented
